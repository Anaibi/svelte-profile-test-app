<div>
	<h1>{user.name}</h1>
	<p>{user.title} <span class="icon-stars" use:setStars></span></p>
</div>
<div class="row">
	<button><span class="icon"><IconsSvg name='Message'/></span></button>
	<button>Request</button>
</div>


<style>
	h1 {
		font-size: 50px;
		line-height: 30px;
		font-weight: normal;
		color: #030303;
	}
	p {
		margin-top: 18px;
		font-size: 20px;
		line-height: 20px;
		color: #C3C3C3;
	}
	.icon {
		width: 25px;
		height: 25px;
	}
	.icon :global(.active) {
		display: none;
	}
</style>

<script>
	import IconsSvg from './IconsSvg.html';

	export default {
		components: {
			IconsSvg
		},
		actions: {
			setStars(node) {
				var stars = this.get().user.stars,
						create = (el) => document.createElement(el),
						star;
				for (var i=1; i<=stars; i++) {
					addStar('fullstar');
				}
				if (i !== stars) {
					addStar('halfstar');
					i += 1;
				}
				for (i; i<6; i++) {
					addStar();
				}
				function addStar(klass) {
					var star = document.createElement('span');
					if (klass) star.classList.add(klass);
					node.append(star);
				}
			}
		}
	}
</script>
